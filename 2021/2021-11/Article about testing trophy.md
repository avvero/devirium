## Сокращение объема регрессионного тестирования.

Когда мы работаем над задачей, нам необходимо обеспечить качество внесенных изменений. Обычно это сопровождается необходимостью провести регрессионное тестирование. Чем более "перегружен" endpoint, тем больший объем такого тестирования нужно реализовать. Если говорим про http сервис, то подобное тестирование можно осуществить вручную через postman или иным образом. Проблема в том, что если кто-то после нас приходит в то же место и правит код, то и ему нужно провести регрессионное тестирование и так далее. Одним из способом автоматизации такой деятельность может быть написание тестов, проверяющий поведение приложения через публичный api с использованием моков для внепроцессных зависимостей. Данные тесты нужно интегрировать в цикл разработки.

Предлагается использовать единый уровень представления для вызовов api, проверки ответа и для мокирования в рамках интеграции с внепроцессными зависимостями. Для последнего предлагается использовать wiremock.

## Изолированный интеграционный тест

Если тестируется логика взаимодействия приложения с моком вместо реальных зависимостей, но само приложение работает в условиях, близких к реальному запуску (без изоляции отдельных классов, как в юнит-тестах).
Например, проверка, что сервис правильно формирует HTTP-запросы к базе данных через моки

## Контрактное тестирование

Контрактное тестирование — это методика тестирования точек интеграции, при которой каждое приложение проверяется в изоляции для подтверждения, что сообщения, которые оно отправляет или получает, соответствуют общему пониманию, задокументированному в "контракте". Этот подход позволяет убедиться, что взаимодействие между различными частями системы происходит в соответствии с ожиданиями. [[Повышаем наглядность интеграционных тестов]].

[[Качественна характеристика теста]]
[[Хороший юнит-тест]]

Статья про тестинг трофеи

О чем статья: о том как в разработке сервисов отдаю предпочтение интеграционным тестам уровня сервиса, вижу в этом значительную пользу и с какими трудностями имею дело.

Интеграционная логика и бизнес логика, дать определения и значения

Обзервабилити, тест который медленный, но наглядно показывающий что-то

Тесты важнее кода. Изменения тестов и кода идут в параллельных таймлайнах с нахлестом.

Цель в доставке функциональностей с минимизацией затрат на разработку и поддержку кода.

Задачи:

-   Реализация желаемого бизнес поведения
-   Соблюдение Контрактов интеграционного характера (sla, api)
-   Создания условий, позволяющих минимизировать затраты на поддержку.
-   Рефакторинг (на мой практике гарнизонами планирования функциональностей - квартал, мы рассматриваем инициативы в начале и планируем доставку, мы точно знаем что мы реализуем в ближайший квартал, дальше ничего не знаем, если думаем что знаем - скорее всего будем разочарованы), поэтому невозможно строить долгоиграющий дизайн, тем более если сервис только появился. Важно чтобы сервис был эволвобильным (легко и дёшево меняться) с сохранением контракта. Интеграционные енд - то- енд тесты уровня сервиса помогают значительно.
-   Доступность и актуальность информации о текущей бизнес логике приложения (влияет на оценку времени разработки, в любой момент времени знаем что и как работает - например документация по апи содержит только интеграционную логику)

  

Дисклеймер: 1 Статья для тех, кто пишет код с багами и использует тесты для их нахождения. Или тех, кому интересно?

может содержать баги стремящиеся попасть на прод и кто выбрал тесты, как средство 

что использование тестов сводит к минимуму появление багов в проде 

2 в данной статье я в том числе поделюсь своими мыслями и опытом касательно интеграционных тестов и тдд. Я постараюсь обьяснить, а ни в чем-то убедить. Я не ставлю свой целью убедить , я хочу описать причины.

## Статьи с идеями

https://docs.pact.io/faq/convinceme - тут можно почитать о том, почему Contract tests save development time, суть та же и для TT.

----

Я познакомился давно, решил применять, у нас спринг и это было вызовом - медленно и плавающие баги.

Что такой тестинг трофи 
Дороже чем юнит 
В чем особенность спринга (контекст)
Шаред инстансы баз и Кафки и изоляция или дешевое поднятие сервисов
Что дает
Проблемы - баги спринга

#testing #testing_trophy #draft