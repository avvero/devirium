![alt text](Low-hanging-fruit.jpg)

## Введение

Разработчики любят чистый код, а "Правило бойскаута", по слухам, делает его еще чище. На первый взгляд, подход кажется разумным: исправляешь мелкие недочёты, переименовываешь переменные, удаляешь лишние комментарии — удобно, быстро, безопасно. А главное, можно сказать, что внёс вклад!

Однако если такие правки не решают реальных проблем, это превращается в поверхностный рефакторинг, создающий лишь иллюзию прогресса. Это можно описать метафорой low-hanging fruit — когда разработчики выбирают самые лёгкие и очевидные задачи, избегая более сложных и значимых изменений.

### Лирическое отступление

"Правило бойскаута" в Clean Code описано следующим образом:

> Если мы все будем оставлять свой код чище, чем он был до нашего прихода, то код попросту не будет загнивать. Чистка не обязана быть глобальной. Присвойте более понятное имя переменной, разбейте слишком большую функцию, устраните одно незначительное повторение, почистите сложную цепочку `іf`.
Представляете себе работу над проектом, код которого улучшается с течением времени? Но может ли профессионал позволить себе нечто иное? Разве постоянное совершенствование не является неотъемлемой частью профессионализма?

Вроде бы всё логично, но ощущаете ли вы послевкусие дешёвой манипуляции? Или это только мне показалось?

#### Разбор риторических приёмов

> Если мы все будем оставлять свой код чище, чем он был до нашего прихода, то код попросту не будет загнивать.

Подмена причинно-следственной связи. Улучшение кода не сводится к мелким правкам. Код "гниёт" из-за архитектурных проблем, плохого дизайна, хаотичных бизнес-требований, а не потому, что кто-то не переименовал переменную. Но здесь создаётся ложное впечатление, что если каждый будет делать маленькие изменения, то проблемы исчезнут.

> Чистка не обязана быть глобальной. Присвойте более понятное имя переменной, разбейте слишком большую функцию…

Упрощение проблемы. Создаётся иллюзия, что постоянное мелкое улучшение заменяет продуманный рефакторинг. В реальности иногда нужно делать болезненные, крупные изменения, а не просто «подправить один иф». 

> Представляете себе работу над проектом, код которого улучшается с течением времени?

Подмена реальности фантазией. Формулировка построена так, что читатель сам дорисовывает в голове идеальную картину, но она никак не доказывает, что предложенный метод реально работает.

> Но может ли профессионал позволить себе нечто иное? Разве постоянное совершенствование не является неотъемлемой частью профессионализма?

А вот и скрытая манипуляция: если ты не согласен — значит, ты не профессионал.

![alt text](Low-hanging-fruit-how-dare-you.jpg)

Автор крайне возмущён и потрясён до глубины души.

### "Low-hanging fruit" в программировании

Термин "low-hanging fruit" ("низко висящий плод") описывает ситуации, когда люди предпочитают решать лёгкие и очевидные задачи, откладывая сложные и важные. В программировании это выражается в мелком рефакторинге, который создаёт ощущение продуктивности, но не приносит реальной пользы.

Примеры "low-hanging fruit" в коде:
- Переименование переменной `dataProcessor` в `processor` без явного улучшения читаемости.
- Удаление комментариев, которые могли бы помочь в понимании кода.
- Перемещение кода между файлами, не влияющее на архитектуру.
- Разбиение метода на несколько, даже если это не упрощает его понимание.
- Перенос переменной в другой файл просто потому, что "так кажется логичнее".
- Вынос общих повторяющихся частей лишь на том основании, что они просто похожи.
- Форматирование кода без объективных улучшений (например, просто перестановка строк без изменения логики).
- Создание новых классов или интерфейсов без реальной пользы ("абстракция ради абстракции").

### Иллюзия прогресса

Поверхностный рефакторинг создаёт ложное ощущение продуктивности. Разработчик видит, что код изменился, появились новые коммиты, но глобально:
- Технический долг остаётся нетронутым — архитектурные проблемы, дублирование логики, неоптимальная работа системы остаются без изменений.
- Команда тратит время на несущественные правки — исправления не влияют на удобство сопровождения кода.
- Размывается скоуп изменений – в коммит попадают правки, не связанные с основной задачей, из-за чего сложнее понять, что именно изменилось и зачем. К тому же могут затрагиваться участки кода, которые давно не менялись и не должны были меняться.
- Создаются ненужные merge-конфликты — изменения, не улучшающие код, могут усложнить жизнь другим разработчикам.
- Бизнес-ценность минимальна — если рефакторинг не делает систему быстрее, надёжнее или удобнее, его ценность сомнительна.

### Как избежать ловушки "low-hanging fruit"?
1. Задавать вопрос "зачем?" – перед изменением кода спроси себя, делает ли оно код проще, понятнее и поддерживаемее.
2. Использовать code review – пусть коллеги оценят, насколько твои изменения полезны.
3. Фокусироваться на реальных проблемах – исправлять то, что действительно мешает развитию проекта.
4. Ограничивать время на рефакторинг – если ты уже целый час вносишь косметические правки, возможно, стоит переключиться на более значимые задачи.

### Заключение

"Правило бойскаута" может быть хорошей практикой, если применять его с умом. Однако, если разработчики останавливаются на поверхностных изменениях, не решающих архитектурных проблем, они попадают в ловушку "low-hanging fruit" рефакторинга. Настоящий прогресс в коде требует работы с техническим долгом, а не просто косметических правок. Поэтому рефакторинг должен быть не самоцелью, а инструментом для создания поддерживаемого и понятного кода.

#refactoring #article #draft